# Blue Team: Summary of Operations

## Table of Contents

- Network Topology
- Description of Targets
- Monitoring the Targets
- Patterns of Traffic and Behavior
- Suggestions for Going Further

## Network Topology

![](RackMultipart20210406-4-1c9aogd_html_6eee9d0b72df2fa6.png)

The following machines were identified on the network:

**Target 1**

- Operating System: Linux 3.X|4.X
- Purpose: Web Server - Vulnerable VM
- IP Address: 192.168.1.110

**Target 2**

- Operating System: Linux 3.X|4.X
- Purpose: Web Server - Vulnerable VM
- IP Address: 192.168.1.115

**KALI**

- Operating System: Kali Linux 2.6.32
- Purpose: Pen Testing Machine
- IP Address: 192.168.1.90

**Capstone**

- Operating System: Linux
- Purpose: Alert Testing Machine
- IP Address: 192.168.1.105

**ELK**

- Operating System: Linux
- Purpose: Gathers Logs and Alerts: Elasticsearch, Logstash, Kibana
- IP Address: 192.168.1.100

## Description of Targets

Fill in the following:

- Two VMs on the network were vulnerable to attack: Target 1: IP address192.168.1.110 and Target 2: IP Address 192.168.1.115.

- Each VM functions as an Apache web server and has SSH enabled, so ports 80 and 22 are possible ports of entry for attackers.

## Monitoring the Targets

This scan identifies the services below as potential points of entry:

- **Target 1**
  - Brute Force attack
  - Unwanted SSH Logins/attempts
  - DDoS attack ![](RackMultipart20210406-4-1c9aogd_html_9e07d6e57069644e.png)

- **Target 2**
  - Brute Force attack
  - Unwanted SSH Logins/attempts
  - DDoS attack ![](RackMultipart20210406-4-1c9aogd_html_6659d8f216cfd0f3.png)

Traffic to these services should be carefully monitored.

We have implemented the alerts below:

**Excessive HTTP Errors**

Excessive HTTP Errors is implemented as follows:

- Metric: HTTP Status Errors
- Threshold: Above 400 over 1 minute
- Vulnerability Mitigated: Brute Force Attacks and DDoS
- Reliability: Low: it just provides the count, not the occurrence of errors. Provides critical data against Brute Force Attacks

**HTTP Request Size Monitor**

HTTP Request Size Monitor is implemented as follows:

- Metric: http.request.bytes
- Threshold: above 3500 for last 1 minute
- Vulnerability Mitigated: DDos
- Reliability: Medium-High: Keeping our network up and running by allowing normal traffic and speeds is important

.

**CPU Usage Monitor**

CPU Usage Monitor is implemented as follows:

- Metric: system.process.cpu.total
- Threshold: Above .5 over the last 5 minutes 50%
- Vulnerability Mitigated: DDoS Attacks
- Reliability: Medium-High: Keeping our network up and running by allowing normal traffic and speeds is important

![](RackMultipart20210406-4-1c9aogd_html_4525d558b835ee6b.jpg)

## Suggestions for Going Further

**Suggest a patch for each vulnerability identified by the alerts above.** Remember: alerts only detect malicious behavior. They do not prevent it.It is not necessary to explain how to implement each patch.

The logs and alerts generated during the assessment suggest that this network is susceptible to several active threats. In addition to watching for occurrences of such threats, the network should be hardened against them. The Blue Team suggests that IT implement the fixes below to protect the network:

**Vulnerability 1 Brute Force Attack**

- Patch: Set up a whitelist of IP addresses or ranges.
- Why It Works: IP whitelisting allows you to create lists of trusted IP addresses or IP ranges from which your users can access your domains. Other unknown IP addresses will be blocked.

**Vulnerability 2 Port Scan**

- Patch: Install a Firewall and Internal auditing
- Why It Works: A firewall can help prevent unauthorized access to your private network. It controls the ports that are exposed and their visibility. Firewalls can also detect a port scan in progress and shut them down. Internal audits will confirm you are checking your network periodically to assure you do not have any unwanted services running, keeping the attack surface to a minimum.

**Vulnerability 3 DDos Attack**

- Patch: Install a Web Application Firewall (WAF)
- Why It Works: A WAF or Web Application Firewall helps protect web applications by filtering and monitoring HTTP traffic between a web application and the Internet. The value of a WAF comes in part from the speed and ease with which policy modification can be implemented, allowing for faster response to varying attack vectors; during a DDoS attack, rate limiting can be quickly implemented by modifying WAF policies.

Attachments:

[Dashboard SSH logins.pdf](https://drive.google.com/file/d/1glBGzy4vS-zkYJO3PEuwT5r1ik1970Rv/view?usp=sharing)

[Dashboard for sudo commands.pdf](https://drive.google.com/file/d/1c8_N3LTvj1xGyZp2qunclza_AAXT56sB/view?usp=sharing)

[Overview of Target1.pdf](https://drive.google.com/file/d/1jf1pDCYpPyOyB0hv92fV4zql1qmha7nf/view?usp=sharing)

[Overview of Target 2.pdf](https://drive.google.com/file/d/1y4e3piKIqozpHIm4ISx_u0868HjHLHQ1/view?usp=sharing)

